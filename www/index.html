<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/REC-html401/loose.dtd">
<html lang="ja">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=Shift_JIS">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Script-Type" content="text/javascript">
<meta name="generator" content="SmartDoc 1.1">
<title>S2XWork Home</title>
<link rel="stylesheet" type="text/css" href="sdoc.css">
<script type="text/javascript">
<!--
/*
 * HTML4JavaScript.js
 *
 * @since   Nov. 17, 1998
 * @version Feb. 18, 2002
 * @author  ASAMI, Tomoharu (asami@XMLSmartDoc.org)
 */
var backupColor=null;
var backupBGColor=null;
var backupFontStyle=null;
var backupIDColor=null;
var backupIDBGColor=null;
var backupIDFontStyle=null;
var backupIDBorderStyle=null;

var backupOnKeyDown=null;

function normal(element) {
  if (document.all) {
    if (backupColor != null) {
      element.style.color=backupColor;
      backupColor=null;
    }
    if (backupBGColor != null) {
      element.style.background=backupBGColor;
      backupBGColor=null;
    }
    if (backupFontStyle != null) {
      element.style.fontStyle=backupFontStyle;
      backupFontStyle=null;
    }
    var id = null;
    if (element.href != null) {
      id = element.href;
      id = id.substring(id.indexOf("#") + 1);
    }
    if (id != null) {
      var target = document.all.item(id, 0);
      if (backupIDColor != null) {
        target.style.color=backupIDColor;
        backupIDColor=null;
      }
      if (backupIDBGColor != null) {
        target.style.background=backupIDBGColor;
        backupIDBGColor=null;
      }
      if (backupIDFontStyle != null) {
        target.style.fontStyle=backupIDFontStyle;
        backupIDFontStyle=null;
      }
      if (backupIDBorderStyle != null) {
        target.style.borderStyle=backupIDBorderStyle;
        backupIDBorderStyle=null;
      }
    }
  }
}

function hilight(element) {
  if (document.all) {
    backupBGColor=element.style.background;
    element.style.background="gold";
  }
}

function hilightString(element, color) {
  if (color == null) {
    color="darkolivegreen";
  }
  if (document.all) {
    backupColor=element.style.color;
    backupFontStyle=element.style.fontStyle;
    element.style.color=color;
  }
}

function hilightSelflink(element, color) {
  if (color == null) {
    color="darkolivegreen";
  }
  if (document.all) {
    backupColor=element.style.color;
    backupBGColor=element.style.background;
    backupFontStyle=element.style.fontStyle;
    element.style.color=color;
    var id = null;
    if (element.href != null) {
      id = element.href;
      id = id.substring(id.indexOf("#") + 1);
    }
    if (id != null) {
      var target = document.all.item(id, 0);
      backupIDColor=target.style.color;
//      backupIDBGColor=target.style.background;
//      backupIDFontStyle=target.style.fontStyle;
      backupIDBorderStyle=target.style.borderStyle;
      target.style.color="red";
      target.style.borderStyle="outset";
    }
  }
}

function hilightHyperlink(element, color) {
  if (color == null) {
    color="darkorange";
  }
  if (document.all) {
    backupColor=element.style.color;
    backupBGColor=element.style.background;
    backupFontStyle=element.style.fontStyle;
    element.style.color=color;
  }
}

function hilightExternallink(element, color) {
  if (color == null) {
    color="purple";
  }
  if (document.all) {
    backupColor=element.style.color;
    backupBGColor=element.style.background;
    backupFontStyle=element.style.fontStyle;
    element.style.color=color;
  }
}

function toggleChildren(node) {
  if (document.all) {
    for (i = 0;i < node.children.length;i++) {
      var child = node.children[i];
      if (child.className == "dynamic") {
        if (child.style.display == "") {
            child.style.display = "none";
        } else {
            child.style.display = "";
        }
      }
    }
  }
}

function toggleDynamic(node) {
  if (document.all) {
    if (node.tagName == "LI") {
      toggleChildren(node);
    }
  }
}

function isMsie4orGreater() { 
  var ua = window.navigator.userAgent; var msie = ua.indexOf ("MSIE");
  if (msie > 0) {
    return (parseInt (ua.substring (msie+5, ua.indexOf (".", msie))) >= 4)   
      && (ua.indexOf ("MSIE 4.0b") <0);
  } else {
    return false;
  }
}

function keyEventHandler() {
  if (document.all) {
    if (event.keyCode == 13) {
      var child = document.all.item("doc_next_page_", 0);
      if (child != null) {
        location.href = child.href;
      }
    } else if (event.keyCode == 39) {
      var child = document.all.item("doc_next_page_", 0);
      if (child != null) {
        location.href = child.href;
      }
    } else if (event.keyCode = 37) {
      var child = document.all.item("doc_prev_page_", 0);
      if (child != null) {
        location.href = child.href;
      }
    } else {
      backupOnKeyDown();
    }
  }
}

function setOHPHandler() {
  backupOnKeyDown=document.onkeydown;
  document.onkeydown=keyEventHandler;
}
// -->
</script>
</head>
<body>
<div class="header"></div>

<h1 class="title">S2XWork Home</h1>

<h2>目次</h2>

<div class="toc">
<ul>
<li> <a href="#doc1_18" onmouseover="hilightSelflink(this)" onmouseout="normal(this)">S2XWorkとは</a>
<li> <a href="#doc1_27" onmouseover="hilightSelflink(this)" onmouseout="normal(this)">プロダクト一覧</a>
<li> <a href="#doc1_75" onmouseover="hilightSelflink(this)" onmouseout="normal(this)">ダウンロード</a>
<li> <a href="#doc1_111" onmouseover="hilightSelflink(this)" onmouseout="normal(this)">プロダクト詳細</a>
<ul>
<li> <a href="#doc1_113" onmouseover="hilightSelflink(this)" onmouseout="normal(this)">S2XWork</a>
<ul>
<li> <a href="#doc2_182" onmouseover="hilightSelflink(this)" onmouseout="normal(this)">S2XWorkとは</a>
<li> <a href="#doc2_196" onmouseover="hilightSelflink(this)" onmouseout="normal(this)">インストール</a>
<li> <a href="#doc2_199" onmouseover="hilightSelflink(this)" onmouseout="normal(this)">設定(WebWork2.2で使用する場合)</a>
<ul>
<li> <a href="#doc2_201" onmouseover="hilightSelflink(this)" onmouseout="normal(this)">diconファイル</a>
<li> <a href="#doc2_225" onmouseover="hilightSelflink(this)" onmouseout="normal(this)">web.xml</a>
</ul>
<li> <a href="#doc2_249" onmouseover="hilightSelflink(this)" onmouseout="normal(this)">その他の機能</a>
<ul>
<li> <a href="#doc2_251" onmouseover="hilightSelflink(this)" onmouseout="normal(this)">ValueStack経由でSeasar2のコンポーネントにアクセスする</a>
</ul>
</ul>
<li> <a href="#doc1_115" onmouseover="hilightSelflink(this)" onmouseout="normal(this)">S2XWorkTiger</a>
<ul>
<li> <a href="#doc3_297" onmouseover="hilightSelflink(this)" onmouseout="normal(this)">S2XWorkTigerとは</a>
<li> <a href="#doc3_300" onmouseover="hilightSelflink(this)" onmouseout="normal(this)">インストール</a>
<li> <a href="#doc3_303" onmouseover="hilightSelflink(this)" onmouseout="normal(this)">設定方法</a>
<li> <a href="#doc3_395" onmouseover="hilightSelflink(this)" onmouseout="normal(this)">使い方</a>
</ul>
<li> <a href="#doc1_117" onmouseover="hilightSelflink(this)" onmouseout="normal(this)">clwork</a>
<ul>
<li> <a href="#doc4_441" onmouseover="hilightSelflink(this)" onmouseout="normal(this)">clworkとは</a>
<li> <a href="#doc4_444" onmouseover="hilightSelflink(this)" onmouseout="normal(this)">インストール</a>
<li> <a href="#doc4_447" onmouseover="hilightSelflink(this)" onmouseout="normal(this)">使い方</a>
<ul>
<li> <a href="#doc4_449" onmouseover="hilightSelflink(this)" onmouseout="normal(this)">CommandLineDispatcher</a>
<li> <a href="#doc4_488" onmouseover="hilightSelflink(this)" onmouseout="normal(this)">設定(xwork.xml)</a>
</ul>
</ul>
</ul>
<li> <a href="#doc1_120" onmouseover="hilightSelflink(this)" onmouseout="normal(this)">連絡先</a>
<li> <a href="#doc1_138" onmouseover="hilightSelflink(this)" onmouseout="normal(this)">変更履歴</a>
</ul>
</div>

<h1 class="part" id="doc1_18">S2XWorkとは</h1>

<p class="first_ja">S2XWorkでは<a href="http://www.opensymphony.com/" target="_top" onmouseover="hilightExternallink(this)" onmouseout="normal(this)">OpenSymphony</a>の開発しているコマンドパターンフレームワーク<a href="http://www.opensymphony.com/xwork/" target="_top" onmouseover="hilightExternallink(this)" onmouseout="normal(this)">XWork</a>を拡張するプロダクトを提供します。</p>

<h1 class="part" id="doc1_27">プロダクト一覧</h1>


<div class="table">
<table id="doc1_29" class="data" rules="groups">
<colgroup span="2">
<col>
<col>
</colgroup>
<thead>
<tr class="even">
<th align="center">プロダクト名</th>
<th align="center">概要</th>
</tr>
</thead>
<tbody>
<tr class="even">
<td>S2XWork</td>
<td>XWorkでSeasar2のコンポーネントを扱えるようになります</td>
</tr>
<tr class="odd">
<td>S2XWorkTiger</td>
<td>xwork.xmlに記述するAction設定をアノテーションで記述できます</td>
</tr>
<tr class="even">
<td>clwork</td>
<td>コマンドラインからxworkのアクションを実行出来るようになります</td>
</tr>
</tbody>
</table>
</div>


<h1 class="part" id="doc1_75">ダウンロード</h1>


<ul>
<li> <a href="http://maven.seasar.org/maven2/org/seasar/xwork/s2-xwork/" target="_top" onmouseover="hilightExternallink(this)" onmouseout="normal(this)">S2XWork</a>
<li> <a href="http://maven.seasar.org/maven2/org/seasar/xwork/s2-xwork-tiger/" target="_top" onmouseover="hilightExternallink(this)" onmouseout="normal(this)">S2XWorkTiger</a>
<li> <a href="http://maven.seasar.org/maven2/org/seasar/xwork/clwork/" target="_top" onmouseover="hilightExternallink(this)" onmouseout="normal(this)">clwork</a>
<li> <a href="http://maven.seasar.org/maven2/org/seasar/xwork/s2-xwork-example-webwork/" target="_top" onmouseover="hilightExternallink(this)" onmouseout="normal(this)">サンプル(WebWork2.2)</a>
<li> <a href="http://maven.seasar.org/maven2/org/seasar/xwork/clwork/" target="_top" onmouseover="hilightExternallink(this)" onmouseout="normal(this)">サンプル(clwork)</a></ul>


<h1 class="part" id="doc1_111">プロダクト詳細</h1>


<h1 class="chapter" id="doc1_113">S2XWork</h1>


<h2 id="doc2_182">S2XWorkとは</h2>

<p class="first_ja">S2XWorkは<a href="http://www.opensymphony.com/" target="_top" onmouseover="hilightExternallink(this)" onmouseout="normal(this)">OpenSymphony</a>の開発しているコマンドパターンフレームワーク<a href="http://www.opensymphony.com/xwork/" target="_top" onmouseover="hilightExternallink(this)" onmouseout="normal(this)">XWork</a>からSeasar2を利用するコンポーネントを提供します。</p>
<p></p>
<p><a href="http://www.opensymphony.com/webwork/wikidocs/Spring.html" target="_top" onmouseover="hilightExternallink(this)" onmouseout="normal(this)">Webwork Spring Integration</a>と同じようにWebWork2の標準のIoCコンテナをSeasar2に置き換えることが出来ます。</p>

<h2 id="doc2_196">インストール</h2>

<p class="first_ja">ダウンロードしたバイナリ(Jarファイル)とSeasar2,XWorkのライブラリにクラスパスを通してください。</p>

<h2 id="doc2_199">設定(WebWork2.2で使用する場合)</h2>


<h3 id="doc2_201">diconファイル</h3>

<p class="first_ja">diconファイルにS2ObjectFactoryを設定します。</p>
<p></p>
<p>autoRegistプロパティをtrueにすると、コンテナに登録されていないコンポーネントが要求された際に、自動でコンテナに登録します(デフォルトはfalse)。<span class="note"><a href="#doc2_205" onmouseover="hilightSelflink(this)" onmouseout="normal(this)" title="無駄なコンポーネントが登録される恐れがあるため、falseが推奨です。コンポーネントの登録にはSeasar2.3以降のコンポーネント自動登録を使うのがおすすめです。"><sup>(1)</sup></a></span><tt><pre id="doc2_210" class="program">
						
<span class="primitive">&lt;?xml version=&quot;1.0&quot;?&gt;</span>
&lt;<span class="keyword">!DOCTYPE</span> components PUBLIC <span class="quote">&quot;-//SEASAR2.1//DTD S2Container//EN&quot;</span> <span class="quote">&quot;http://www.seasar.org/dtd/components23.dtd&quot;</span><span class="keyword">&gt;</span>
<span class="keyword">&lt;components</span><span class="keyword">&gt;</span>
  <span class="keyword">&lt;component</span> <span class="primitive">class=</span><span class="quote">&quot;org.seasar.xwork.S2ObjectFactory&quot;</span><span class="keyword">&gt;</span>
    <span class="keyword">&lt;initMethod</span><span class="keyword">&gt;</span>@com.opensymphony.xwork.ObjectFactory@setObjectFactory(#self)<span class="keyword">&lt;/initMethod</span><span class="keyword">&gt;</span>
    <span class="keyword">&lt;property</span> <span class="primitive">name=</span><span class="quote">&quot;autoRegist&quot;</span><span class="keyword">&gt;</span>false<span class="keyword">&lt;/property</span><span class="keyword">&gt;</span>
  <span class="keyword">&lt;/component</span><span class="keyword">&gt;</span>
<span class="keyword">&lt;/components</span><span class="keyword">&gt;</span>
					</pre></tt>バージョン0.5からは上記の内容がs2xowkr.diconに書かれているため、以下のような記述でも大丈夫です。<tt><pre id="doc2_218" class="program">
						
<span class="primitive">&lt;?xml version=&quot;1.0&quot;?&gt;</span>
&lt;<span class="keyword">!DOCTYPE</span> components PUBLIC <span class="quote">&quot;-//SEASAR2.1//DTD S2Container//EN&quot;</span> <span class="quote">&quot;http://www.seasar.org/dtd/components23.dtd&quot;</span><span class="keyword">&gt;</span>
<span class="keyword">&lt;components</span><span class="keyword">&gt;</span>
  <span class="keyword">&lt;include</span> <span class="primitive">path=</span><span class="quote">&quot;s2xwork.dicon&quot;</span> /<span class="keyword">&gt;</span>
<span class="keyword">&lt;/components</span><span class="keyword">&gt;</span>
					</pre></tt></p>

<div class="footnote">
<ol>
<li id="doc2_205" value="1"> 無駄なコンポーネントが登録される恐れがあるため、falseが推奨です。コンポーネントの登録にはSeasar2.3以降のコンポーネント自動登録を使うのがおすすめです。</ol>
</div>


<h3 id="doc2_225">web.xml</h3>

<p class="first_ja">web.xmlに以下のコンポーネントを設定します。</p>

<ul>
<li> org.seasar.framework.container.filter.S2ContainerFilter
<li> com.opensymphony.webwork.dispatcher.FilterDispatcher
<li> org.seasar.framework.container.servlet.S2ContainerServlet</ul>

<p><tt><pre id="doc2_241" class="program">
						
<span class="primitive">&lt;?xml version=&quot;1.0&quot;?&gt;</span>
&lt;<span class="keyword">!DOCTYPE</span> web-app
      PUBLIC <span class="quote">&quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;</span>
      <span class="quote">&quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot;</span><span class="keyword">&gt;</span>
<span class="keyword">&lt;web</span>-app<span class="keyword">&gt;</span>
	<span class="keyword">&lt;context</span>-param<span class="keyword">&gt;</span>
		<span class="keyword">&lt;param</span>-name<span class="keyword">&gt;</span>configPath<span class="keyword">&lt;/param</span>-name<span class="keyword">&gt;</span>
		<span class="keyword">&lt;param</span>-value<span class="keyword">&gt;</span>app.dicon<span class="keyword">&lt;/param</span>-value<span class="keyword">&gt;</span>
	<span class="keyword">&lt;/context</span>-param<span class="keyword">&gt;</span>
	<span class="keyword">&lt;filter</span><span class="keyword">&gt;</span>
		<span class="keyword">&lt;filter</span>-name<span class="keyword">&gt;</span>s2filter<span class="keyword">&lt;/filter</span>-name<span class="keyword">&gt;</span>
		<span class="keyword">&lt;filter</span>-class<span class="keyword">&gt;</span>
			org.seasar.framework.container.filter.S2ContainerFilter
		<span class="keyword">&lt;/filter</span>-class<span class="keyword">&gt;</span>
	<span class="keyword">&lt;/filter</span><span class="keyword">&gt;</span>
	<span class="keyword">&lt;filter</span><span class="keyword">&gt;</span>
		<span class="keyword">&lt;filter</span>-name<span class="keyword">&gt;</span>webwork<span class="keyword">&lt;/filter</span>-name<span class="keyword">&gt;</span>
		<span class="keyword">&lt;filter</span>-class<span class="keyword">&gt;</span>
			com.opensymphony.webwork.dispatcher.FilterDispatcher
		<span class="keyword">&lt;/filter</span>-class<span class="keyword">&gt;</span>
	<span class="keyword">&lt;/filter</span><span class="keyword">&gt;</span>
	<span class="keyword">&lt;filter</span>-mapping<span class="keyword">&gt;</span>
		<span class="keyword">&lt;filter</span>-name<span class="keyword">&gt;</span>s2filter<span class="keyword">&lt;/filter</span>-name<span class="keyword">&gt;</span>
		<span class="keyword">&lt;url</span>-pattern<span class="keyword">&gt;</span>/*<span class="keyword">&lt;/url</span>-pattern<span class="keyword">&gt;</span>
	<span class="keyword">&lt;/filter</span>-mapping<span class="keyword">&gt;</span>
	<span class="keyword">&lt;filter</span>-mapping<span class="keyword">&gt;</span>
		<span class="keyword">&lt;filter</span>-name<span class="keyword">&gt;</span>webwork<span class="keyword">&lt;/filter</span>-name<span class="keyword">&gt;</span>
		<span class="keyword">&lt;url</span>-pattern<span class="keyword">&gt;</span>/*<span class="keyword">&lt;/url</span>-pattern<span class="keyword">&gt;</span>
	<span class="keyword">&lt;/filter</span>-mapping<span class="keyword">&gt;</span>
	<span class="keyword">&lt;servlet</span><span class="keyword">&gt;</span>
		<span class="keyword">&lt;servlet</span>-name<span class="keyword">&gt;</span>s2servlet<span class="keyword">&lt;/servlet</span>-name<span class="keyword">&gt;</span>
		<span class="keyword">&lt;servlet</span>-class<span class="keyword">&gt;</span>org.seasar.framework.container.servlet.S2ContainerServlet<span class="keyword">&lt;/servlet</span>-class<span class="keyword">&gt;</span>
		<span class="keyword">&lt;init</span>-param<span class="keyword">&gt;</span>
			<span class="keyword">&lt;param</span>-name<span class="keyword">&gt;</span>configPath<span class="keyword">&lt;/param</span>-name<span class="keyword">&gt;</span>
			<span class="keyword">&lt;param</span>-value<span class="keyword">&gt;</span>app.dicon<span class="keyword">&lt;/param</span>-value<span class="keyword">&gt;</span>
		<span class="keyword">&lt;/init</span>-param<span class="keyword">&gt;</span>
		<span class="keyword">&lt;init</span>-param<span class="keyword">&gt;</span>
			<span class="keyword">&lt;param</span>-name<span class="keyword">&gt;</span>debug<span class="keyword">&lt;/param</span>-name<span class="keyword">&gt;</span>
			<span class="keyword">&lt;param</span>-value<span class="keyword">&gt;</span>false<span class="keyword">&lt;/param</span>-value<span class="keyword">&gt;</span>
		<span class="keyword">&lt;/init</span>-param<span class="keyword">&gt;</span>
		<span class="keyword">&lt;load</span>-on-startup<span class="keyword">&gt;</span>1<span class="keyword">&lt;/load</span>-on-startup<span class="keyword">&gt;</span>
	<span class="keyword">&lt;/servlet</span><span class="keyword">&gt;</span>
	<span class="keyword">&lt;servlet</span>-mapping<span class="keyword">&gt;</span>
		<span class="keyword">&lt;servlet</span>-name<span class="keyword">&gt;</span>s2servlet<span class="keyword">&lt;/servlet</span>-name<span class="keyword">&gt;</span>
		<span class="keyword">&lt;url</span>-pattern<span class="keyword">&gt;</span>/s2servlet<span class="keyword">&lt;/url</span>-pattern<span class="keyword">&gt;</span>
	<span class="keyword">&lt;/servlet</span>-mapping<span class="keyword">&gt;</span>
<span class="keyword">&lt;/web</span>-app<span class="keyword">&gt;</span>
					</pre></tt></p>

<h2 id="doc2_249">その他の機能</h2>


<h3 id="doc2_251">ValueStack経由でSeasar2のコンポーネントにアクセスする</h3>

<p class="first_ja">S2CompontntInterceptorを使えば、ValueStack経由でSeasar2のコンポーネントにアクセス出来るようになります。これによりリクエストパラメータを直接Seasar2内のDtoにセットしたり、画面などのResultからSeasar2の2コンポーネントにアクセス出来るようになります。</p>

<div id="doc2_253" class="caption">設定(diconファイル)</div>
<div><p>S2CompontntInterceptorをdiconファイルに追加します。</p>
<p></p>
<p>ValueStackから利用したいコンポーネントはこのdiconファイル以下に登録されている必要があります。<tt><pre id="doc2_259" class="program">
							
&lt;component class=&quot;org.seasar.xwork.component.S2ComponentInterceptor&quot; /&gt;
						
</pre></tt>バージョン0.5からは上記の内容がs2xowkr.diconに書かれているため、以下のような記述でも大丈夫です。<tt><pre id="doc2_267" class="program">
							
<span class="primitive">&lt;?xml version=&quot;1.0&quot;?&gt;</span>
&lt;<span class="keyword">!DOCTYPE</span> components PUBLIC <span class="quote">&quot;-//SEASAR2.1//DTD S2Container//EN&quot;</span> <span class="quote">&quot;http://www.seasar.org/dtd/components23.dtd&quot;</span><span class="keyword">&gt;</span>
<span class="keyword">&lt;components</span><span class="keyword">&gt;</span>
  <span class="keyword">&lt;include</span> <span class="primitive">path=</span><span class="quote">&quot;s2xwork.dicon&quot;</span> /<span class="keyword">&gt;</span>
<span class="keyword">&lt;/components</span><span class="keyword">&gt;</span>
						</pre></tt></p>
</div>

<div id="doc2_274" class="caption">設定(xwork.xml)</div>
<div><p>interceptor要素でorg.seasar.xwork.component.S2ComponentInterceptorを定義して、interceptor-ref要素でアクションに設定します。</p>
<p></p>
<p>以下の例はwebwork-default.xmlのdefaultStackに追加した場合の例です。<tt><pre id="doc2_280" class="program">
							
&lt;?xml version=&quot;1.0&quot;?&gt;
&lt;!DOCTYPE xwork PUBLIC &quot;-//OpenSymphony Group//XWork 1.1//EN&quot; \
    &quot;http://www.opensymphony.com/xwork/xwork-1.0.dtd&quot;&gt;
&lt;xwork&gt;
	&lt;include file=&quot;webwork-default.xml&quot; /&gt;
	&lt;package name=&quot;default&quot; extends=&quot;webwork-default&quot;&gt;
		&lt;interceptors&gt;
			&lt;interceptor name=&quot;s2component&quot;
				class=&quot;org.seasar.xwork.component.S2ComponentInterceptor&quot; /&gt;
			&lt;interceptor-stack name=&quot;s2componentStack&quot;&gt;
				&lt;interceptor-ref name=&quot;exception&quot; /&gt;
				&lt;interceptor-ref name=&quot;alias&quot; /&gt;
				&lt;interceptor-ref name=&quot;servlet-config&quot; /&gt;
				&lt;interceptor-ref name=&quot;prepare&quot; /&gt;
				&lt;interceptor-ref name=&quot;i18n&quot; /&gt;
				&lt;interceptor-ref name=&quot;chain&quot; /&gt;
				&lt;interceptor-ref name=&quot;s2component&quot; /&gt;
				&lt;interceptor-ref name=&quot;model-driven&quot; /&gt;
				&lt;interceptor-ref name=&quot;fileUpload&quot; /&gt;
				&lt;interceptor-ref name=&quot;static-params&quot; /&gt;
				&lt;interceptor-ref name=&quot;params&quot; /&gt;
				&lt;interceptor-ref name=&quot;conversionError&quot; /&gt;
				&lt;interceptor-ref name=&quot;validation&quot;&gt;
					&lt;param name=&quot;excludeMethods&quot;&gt;
						input,back,cancel,browse
					&lt;/param&gt;
				&lt;/interceptor-ref&gt;
				&lt;interceptor-ref name=&quot;workflow&quot;&gt;
					&lt;param name=&quot;excludeMethods&quot;&gt;
						input,back,cancel,browse
					&lt;/param&gt;
				&lt;/interceptor-ref&gt;
			&lt;/interceptor-stack&gt;
		&lt;/interceptors&gt;
		&lt;action name=&quot;add&quot;
			class=&quot;org.seasar.xwork.example.webwork.AddAction&quot;&gt;
			&lt;interceptor-ref name=&quot;s2componentStack&quot; /&gt;
			&lt;result name=&quot;success&quot; type=&quot;velocity&quot;&gt;add_success.vm&lt;/result&gt;
		&lt;/action&gt;
	&lt;/package&gt;
&lt;/xwork&gt;
						
</pre></tt></p>
</div>

<h1 class="chapter" id="doc1_115">S2XWorkTiger</h1>


<h2 id="doc3_297">S2XWorkTigerとは</h2>

<p class="first_ja">S2XWorkTigerを使用すれば、xwork.xmlに記述していたActionの定義をActionクラスの中に書くことが出来るようになります。</p>

<h2 id="doc3_300">インストール</h2>

<p class="first_ja">ダウンロードしたバイナリ(Jarファイル)とXWorkのライブラリにクラスパスを通してください。</p>

<h2 id="doc3_303">設定方法</h2>

<p class="first_ja">以下の内容をdiconファイルに追加します。<tt><pre id="doc3_307" class="program">
					
&lt;component \
    class=&quot;com.opensymphony.xwork.config.providers.XmlConfigurationProvider&quot;&gt;
&lt;initMethod&gt;@com.opensymphony.xwork.config.ConfigurationManager@addConfigurationProvider(#self)&lt;/initMethod&gt;
&lt;/component&gt;
&lt;component \
    class=&quot;org.seasar.xwork.annotation.AnnotationConfigurationProvider&quot;&gt;
&lt;initMethod&gt;@com.opensymphony.xwork.config.ConfigurationManager@addConfigurationProvider(#self)&lt;/initMethod&gt;
&lt;/component&gt;

				
</pre></tt>バージョン0.5からは上記の内容がs2xwork-tiger.dicnoに書かれているため、以下のような記述でも大丈夫です。<tt><pre id="doc3_315" class="program">
					
<span class="primitive">&lt;?xml version=&quot;1.0&quot;?&gt;</span>
&lt;<span class="keyword">!DOCTYPE</span> components PUBLIC <span class="quote">&quot;-//SEASAR2.1//DTD S2Container//EN&quot;</span> <span class="quote">&quot;http://www.seasar.org/dtd/components23.dtd&quot;</span><span class="keyword">&gt;</span>
<span class="keyword">&lt;components</span><span class="keyword">&gt;</span>
  <span class="keyword">&lt;include</span> <span class="primitive">path=</span><span class="quote">&quot;s2xwork-tiger.dicon&quot;</span> /<span class="keyword">&gt;</span>
<span class="keyword">&lt;/components</span><span class="keyword">&gt;</span>
				</pre></tt>AnnotationConfigurationProviderには以下のプロパティがあります。</p>
<p></p>
<p>現状はクラスパス以下のクラスファイルが検索対象です。Jarファイル内のクラスには対応していません。</p>

<div class="table">
<table id="doc3_323" class="data" rules="groups">
<colgroup span="3">
<col>
<col>
<col>
</colgroup>
<thead>
<tr class="even">
<th align="center">プロパティ名</th>
<th align="center">内容</th>
<th align="center">デフォルト値</th>
</tr>
</thead>
<tbody>
<tr class="even">
<td>packageName</td>
<td>アクションを追加するxwork.xml内のパッケージ名(package要素のname属性で設定)</td>
<td>default</td>
</tr>
<tr class="odd">
<td>classPackage</td>
<td><p>アノテーションを探す対象のパッケージ</p>
<p></p>
<p>このパッケージ以下のパッケージを探索します</p></td>
<td>空文字</td>
</tr>
<tr class="even">
<td>classPattern</td>
<td>アノテーションを探す対象のクラス名パターン(正規表現)</td>
<td>.*Action</td>
</tr>
<tr class="odd">
<td>resource</td>
<td>クラスを探索するディレクトリのルートにあるファイル名</td>
<td>xwork.xml</td>
</tr>
</tbody>
</table>
</div>


<h2 id="doc3_395">使い方</h2>

<p class="first_ja">アノテーションをアクションクラス名のクラス定義の上に書きます。<tt><pre id="doc3_399" class="program">
					
@XWorkAction(name=&quot;test&quot;)
public class TestAction extends ActionSupport{
}

				
</pre></tt></p>

<dl>
<dt>例:通常のAction定義(nameは必須)
<dd>@XWorkAction(name=&quot;test&quot;)
<dt>例:複数のAction定義
<dd>@XWorkActions(actions = {@XWorkAction(name=&quot;test1&quot;),@XWorkAction(name=&quot;test2&quot;)})
<dt>例:メソッド指定
<dd>@XWorkAction(name=&quot;test&quot;, method=&quot;add&quot;)
<dt>例:Resultありの場合(@Resultのnameを省略した場合はsuccess)
<dd>@XWorkAction(name=&quot;test&quot;,result=@Result(type=&quot;velocity&quot;,param=@Param(name=&quot;location&quot;,value=&quot;index.vm&quot;)))</dl>


<h1 class="chapter" id="doc1_117">clwork</h1>


<h2 id="doc4_441">clworkとは</h2>

<p class="first_ja">clworkはXWorkをベースにしたコマンドラインアプリ向けのフレームワークです。</p>

<h2 id="doc4_444">インストール</h2>

<p class="first_ja">ダウンロードしたバイナリ(Jarファイル)とXWorkのライブラリにクラスパスを通してください。</p>

<h2 id="doc4_447">使い方</h2>


<h3 id="doc4_449">CommandLineDispatcher</h3>


<ul>
<li> CommandLineDispatcherはmainメソッドから使用されることを想定しています。
<li> dispatchメソッドの第1引数は実行するActionの名前で、第2引数はコマンドラインパラメータになります。
<li> パラメータは「-name value」の形式で指定するとActionまたはModelDrivenのプロパティにセットされます。</ul>

<p class="first_ja"><tt><pre id="doc4_465" class="program">
						
public static void main(String[] args) throws Exception {
    CommandLineDispatcher dispatcher = new CommandLineDispatcher();
    dispatcher.dispatch(args[0], args);
}
							
					
</pre></tt>setParserメソッドでコマンドラインパラメータの解析を行うクラスを変更することが出来ます。デフォルトではorg.apache.commons.cli.GnuParserになっています。<tt><pre id="doc4_473" class="program">
						
dispatcher.setParser(new BasicParser());
					
</pre></tt></p>
<p>Actionなどでコマンドラインパラメータをそのまま使いたい場合は以下のようにして取り出せます。<tt><pre id="doc4_481" class="program">
						
String[] args = \
    (String[])ActionContext.getContext().get(CommandLineDispatcher.CMD);
							
					
</pre></tt></p>

<h3 id="doc4_488">設定(xwork.xml)</h3>


<ul>
<li> System.exitして終了するCommandLineResultの定義を追加します。
<li> CommandLineResultのresultCodeパラメータで終了コードを指定します。</ul>

<p class="first_ja"><tt><pre id="doc4_501" class="program">
						
&lt;package name=&quot;default&quot;&gt;
    &lt;result-types&gt;
&lt;result-type class=&quot;org.seasar.xwork.clwork.result.CommandLineResult&quot; \
    name=&quot;command&quot;/&gt;
    &lt;/result-types&gt;
    &lt;interceptors&gt;
&lt;interceptor name=&quot;params&quot; \
    class=&quot;com.opensymphony.xwork.interceptor.ParametersInterceptor&quot; /&gt;
        &lt;interceptor-stack name=&quot;defaultStack&quot;&gt;
            &lt;interceptor-ref name=&quot;params&quot;/&gt;
        &lt;/interceptor-stack&gt;
    &lt;/interceptors&gt;
    &lt;default-interceptor-ref name=&quot;defaultStack&quot;/&gt;
        
    &lt;action name=&quot;add&quot; class=&quot;org.seasar.xwork.example.webwork.AddAction&quot;&gt;
        &lt;result name=&quot;success&quot; type=&quot;command&quot;&gt;
            &lt;param name=&quot;resultCode&quot;&gt;0&lt;/param&gt;
        &lt;/result&gt;
        &lt;result name=&quot;error&quot; type=&quot;command&quot;&gt;
            &lt;param name=&quot;resultCode&quot;&gt;1&lt;/param&gt;
        &lt;/result&gt;
    &lt;/action&gt;
&lt;/package&gt;
					
</pre></tt></p>

<h1 class="part" id="doc1_120">連絡先</h1>


<ul>
<li> <a href="http://d.hatena.ne.jp/matobat/" target="_top" onmouseover="hilightExternallink(this)" onmouseout="normal(this)">でべろっぱだいあり</a>
<li> <a href="https://www.seasar.org/issues/browse/XWORK" onmouseover="hilightHyperlink(this)" onmouseout="normal(this)">バグトラッキング</a></ul>


<h1 class="part" id="doc1_138">変更履歴</h1>


<dl>
<dt>2006/7/16(日) S2XWork 1.0RC1,S2XWorkTiger 1.0RC1,clwork 1.0リリース
<dd>AnnotationConfigurationProviderにreloadプロパティを追加
<dt>2006/6/18(日) S2XWork 0.5,S2XWorkTiger 0.5リリース
<dd>S2ContainerInitListenerの削除、AnnotationConfigurationProviderの名前間違い修正、s2xwork.dicon,s2xwork-tiger.diconの追加
<dt>2006/5/6(土) S2XWork 0.4,S2XWorkTiger 0.4リリース
<dd>DelegateObjectFactoryの削除、アノテーションの追加
<dt>2006/5/5(金) S2XWork 0.3リリース
<dd>S2ComponentInterceptorの追加
<dt>2006/5/5(金) S2XWork 0.2リリース
<dd>WebWork2.2対応</dl>

<div class="footer">
			<hr></hr>
			
<div><p>Copyright The Seasar Foundation and the others 2004-2005, all rights reserved.</p>
</div>

		</div>
</body>
</html>
